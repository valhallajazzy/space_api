# Загрузчик фотографий из космоса в Telegram

Данные скрипты помогают посредством API загрузить фотографии из космоса из нескольких источников,
а так же выгрузить эти фото на Ваш канал в Telegram используя Telegram-bot. Источники фотографий 
и их загрузка на ваш носитель будет описана ниже. Все операции выполняются из терминала.

## Подготовка к запуску скрипта

В терминале, в корневой папке проекта создаем виртуальное окружение и устанавливаем
требуемые библиотеки, запускаем виртуальное окружение:

```console
$ poetry install
$ poetry shell
```
Так же требуется создать в корневой директории проекта файл .env, обозначить в нем переменные окружения:

`NASA_TOKEN` - токен полученный на сайте [API.NASA](https://api.nasa.gov/) для загрузки фотографий из этого источника. 
Потребуется для пользования скриптами nasa_apod_images.py и nasa_epic_images.py

`TELEGRAM_TOKEN` - токен полученный в [Telegram-bot Father](https://telegram.me/BotFather) для отправки фотографий на ваш канал
в Telegram при помощи бота. Подробнее о регистрации бота и получении токена можно прочитать [ЗДЕСЬ](https://way23.ru/%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B0%D1%86%D0%B8%D1%8F-%D0%B1%D0%BE%D1%82%D0%B0-%D0%B2-telegram.html)

`TELEGRAM_CHAT_ID` - указывает название Telegram-канала, в который будут публиковаться фотографии. Например: `TELEGRAM_CHAT_ID='@example_channel'`

![Screenshot](https://github.com/valhallajazzy/space_api/blob/main/pic_for_README/env.png)
![Screenshot](https://github.com/valhallajazzy/space_api/blob/main/pic_for_README/variables.png)

## Скрипт get_spacex_images.py

Данный скрипт загружает фотографии запуска ракет от компании SpaceX в директорию images. Если директории images нет, 
то она автоматический создается в корневой директории проекта. Дополнительными параметрами запуска скрипта может являться
ID (идентификатор определенного запуска ракеты), для получения фото именно с него. Запуская скрипт без дополнительных параметров - будут 
загружаться фотографии с последнего запуска ракет. Перед параметром нужно указать префикс "-l", "--launch". 
Примеры запуска без параметра и с ним показаны ниже.

![Screenshot](https://github.com/valhallajazzy/space_api/blob/main/pic_for_README/spacex.png)

## Скрипт get_nasa_apod_images.py

Данный скрипт загружает фотографии Astronomy Picture of the Day (APOD (NASA)) в директорию images. Если директории 
images нет, то она автоматический создается в корневой директории проекта. Дополнительными параметрами запуска скрипта может являться
количество загружаемых фотографий (по умолчанию количество равно 20). Перед параметром нужно указать префикс "-c", "--count". 
Примеры запуска без параметра и с ним показаны ниже.

![Screenshot](https://github.com/valhallajazzy/space_api/blob/main/pic_for_README/apod.png)

## Скрипт get_nasa_epic_images.py

Данный скрипт загружает фотографии EPIC: Earth Polychromatic Imaging Camera (NASA) в директорию images. Если директории 
images нет, то она автоматический создается в корневой директории проекта. Пример запуска скрипта показан ниже.

![Screenshot](https://github.com/valhallajazzy/space_api/blob/main/pic_for_README/epic.png)

## Скрипт send_images_bot.py

Данный скрипт загружает фотографии на ваш Telegram-канал. Дополнительными параметрами запуска скрипта может являться
путь к определенной фотографий, которую вы хотите загрузить. Перед параметром нужно указать префикс "-p", "--path".
Если же определенный параметр не указан, то фотографии будут выкладываться в рандомном порядке из директории images с определенным 
интервалом во времени (по умолчанию 4 часа).

* Если вы хотите изменить интервал времени, то нужно указать в файле .env 
переменную окружения `TIME_INTERVAL` (время указывается в секундах). 

* Если вы хотите изменить конфигурационный путь папки из которой будут загружаться фотографии в бесконечном цикле 
(по умолчанию './images' в корневой директории проекта'), то укажите в файле .env переменную окружения `PATH_TO_FOLDER` 
в которой будет указан новый путь к папке с картинками. 

Примеры запуска без параметра и с ним показаны ниже.

![Screenshot](https://github.com/valhallajazzy/space_api/blob/main/pic_for_README/bot.png)

Подробнее о создании Telegram-канала и предоставлении боту прав администратора можно почитать [ЗДЕСЬ](https://smmplanner.com/blog/otlozhennyj-posting-v-telegram/)
